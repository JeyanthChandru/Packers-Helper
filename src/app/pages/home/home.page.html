<ion-header translucent>
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
    <ion-buttons slot="primary">
      <!-- <ion-button full clear (click)='logout()'>Logout</ion-button> -->
      <ion-button (click)='logout()'>
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-card *ngIf="scannedCode">
    <ion-card-content>
      Result from Scan: {{ scannedCode }}
    </ion-card-content>
    <span float-right ion-button icon-left clear (click)="scannedCode=''">
      <ion-icon name="close"></ion-icon>
      Clear
    </span>
  </ion-card>

  <ion-list no-lines>
    <ion-list-header>Individual Moves</ion-list-header>
    <ion-item *ngIf="move == null || move == undefined || move.length == 0">
      <ion-label text-wrap>
        No moves yet!!! Try adding a new one using the button below. {{move}}
      </ion-label>
    </ion-item>
    <ion-item-group>
      <ion-item-sliding *ngFor="let m of move; index as i" [id]="'slidingItem' + i">
        <ion-item (click)="openMovePage(m)">
          <!-- <ion-title>Trip Name: {{m.name}}</ion-title>
        <ion-label>Date: {{m.date}}</ion-label> -->
          <ion-card class="ion-activatable ripple-parent">
            <ion-card-header>Trip Name: {{m.name}}</ion-card-header>
            <ion-card-content>{{m.date | date:'longDate'}}</ion-card-content>
            <ion-ripple-effect></ion-ripple-effect>
          </ion-card>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="editMove(m, i)">
            <ion-icon name="create"></ion-icon>
          </ion-item-option>
          <ion-item-option color="danger" (click)="removeItem(m.$key)">
            <ion-icon name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-item-group>
    <!-- <ion-fab right bottom>
      <button ion-fab (click)="addNewMove()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-fab> -->
  </ion-list>
  <ion-list>
    <ion-list-header>Shared Moves</ion-list-header>
    <ion-item *ngIf="sharedmove==null">
      <ion-label text-wrap>
        Create a trip that can be shared with your friends.
      </ion-label>
    </ion-item>
    <ion-item-group *ngFor="let sm of sharedMove; index as i">
      <ion-item (press)="openSharedActionSheet(sm, i)" (tap)="openSharedMovePage(sm, i)">
        <!-- <ion-title>Trip Name: {{m.name}}</ion-title>
          <ion-label>Date: {{m.date}}</ion-label> -->
        <ion-card>
          <ion-card-header>
            Trip Name: {{sm.name}}
          </ion-card-header>
          <ion-card-content>
            Date: {{sm.date}}
          </ion-card-content>
        </ion-card>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>

<ion-footer class="ion-no-border">
  <ion-toolbar>
    <ion-button fill="clear" (click)="scanCode()">
      <ion-icon slot="icon-only" name="qr-code-outline"></ion-icon>
    </ion-button>
    <ion-button fill="clear" slot="primary" (click)="addNewMove()">
      <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-footer>