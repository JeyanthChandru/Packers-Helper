<ion-header translucent>
  <ion-toolbar>
    <!-- <ion-title>Dashboard</ion-title> -->
    <ion-buttons slot="end">
      <!-- <ion-button full clear (click)='logout()'>Logout</ion-button> -->
      <ion-button (click)='logout()'>
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-card *ngIf="scannedCode">
    <ion-card-content>
      Result from Scan: {{ scannedCode }}
    </ion-card-content>
    <span float-right ion-button icon-left clear (click)="scannedCode=''">
      <ion-icon name="close"></ion-icon>
      Clear
    </span>
  </ion-card>

  <ion-list no-lines>
    <ion-list-header>Individual Moves</ion-list-header>
    <ion-item *ngIf="moveList == null || moveList == undefined || moveList.length == 0">
      <ion-label text-wrap>
        No moves yet!!! Try adding a new one using the button below.
      </ion-label>
    </ion-item>
    <ion-item-group>
      <ion-item-sliding *ngFor="let m of moveList; index as i" [id]="'slidingItem' + i">
        <ion-item (click)="openMovePage(m)" detail>
          <!-- <ion-title>Trip Name: {{m.name}}</ion-title>
        <ion-label>Date: {{m.date}}</ion-label> -->
          <!-- <ion-card class="ion-activatable ripple-parent">
            <ion-card-subtitle>{{m.name}}</ion-card-subtitle>
            <ion-card-content>{{m.date | date:'longDate'}}</ion-card-content>
            <ion-ripple-effect></ion-ripple-effect>
          </ion-card> -->
          <ion-label>{{m.name}}</ion-label>{{m.date | date:'mediumDate'}}
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="editMove(m, i)">
            <ion-icon name="create"></ion-icon>
          </ion-item-option>
          <ion-item-option color="danger" (click)="removeItem(m.$key)">
            <ion-icon name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-item-group>
    <!-- <ion-fab right bottom>
      <button ion-fab (click)="addNewMove()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-fab> -->
  </ion-list>
  <ion-list>
    <ion-list-header>Shared Moves</ion-list-header>
    <ion-item *ngIf="sharedMoveList == null || sharedMoveList == undefined || sharedMoveList.length == 0">
      <ion-label text-wrap>
        Create a trip that can be shared with your friends.
      </ion-label>
    </ion-item>
    <ion-item-group>
      <ion-item-sliding *ngFor="let sm of sharedMoveList; index as i" [id]="'sharedSlidingItem' + i">
        <ion-item (click)="openSharedMovePage(sm, i)" detail>
          <!-- <ion-title>Trip Name: {{m.name}}</ion-title>
            <ion-label>Date: {{m.date}}</ion-label> -->
          <ion-label>{{sm.name}}</ion-label>{{sm.date | date:'mediumDate'}}
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="editSharedMove(sm, i)">
            <ion-icon name="create"></ion-icon>
          </ion-item-option>
          <ion-item-option *ngIf="isAdmin(sm)" color="danger" (click)="removeSharedItem(sm, i)">
            <ion-icon name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-item-group>

  </ion-list>
</ion-content>

<ion-footer class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="secondary">
      <ion-button (click)="scanCode()">
        <ion-icon slot="icon-only" name="qr-code-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="primary">
      <ion-button (click)="addNewMove()">
        <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>